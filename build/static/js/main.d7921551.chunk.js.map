{"version":3,"sources":["Components/Person.js","Components/Persons.js","Components/PersonForm.js","Components/Filter.js","Components/Notification.js","Services/PersonService.js","App.js","index.js"],"names":["Person","_ref","name","number","id","handleDelete","react_default","a","createElement","onClick","Persons","data","filter","toShow","person","toLowerCase","includes","map","Components_Person","key","PersonForm","onSubmit","nameValue","numberValue","nameChange","numberChange","value","onChange","type","Filter","Notification","message","className","baseUrl","PersonService","axios","get","then","response","newObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","useEffect","personService","catch","error","console","log","Components_Notification","Components_Filter","event","target","Components_PersonForm","preventDefault","personObject","some","p","find","newPerson","objectSpread","window","confirm","setTimeout","Components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d7921551.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, id, handleDelete }) => {\n\n    return (\n        <div>\n            {name} {number}<button onClick={()=>handleDelete(id, name)}>Delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ data, filter, handleDelete }) => {\n\n  const toShow = data.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      { toShow.map(person => <Person key={person.id} name={person.name} number={person.number} id={person.id} handleDelete={handleDelete} />) }\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ onSubmit, nameValue, numberValue, nameChange, numberChange }) => {\n    return (\n      <form onSubmit={onSubmit}>\n        <div>\n          Name: <input \n                  value={nameValue}\n                  onChange={nameChange}\n                />\n        </div>\n        <div>\n          Number: <input\n                    value={numberValue}\n                    onChange={numberChange}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ value, onChange }) => {\n    return (\n        <div>\n            Filter by name: <input\n            value={value}\n            onChange={onChange}\n            />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({  message }) => {\n    if (message[0] === null) {\n        return null\n    }\n\n    return (\n        <div className={message[1]}>\n            {message[0]}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Persons from './Components/Persons'\nimport PersonForm from './Components/PersonForm'\nimport Filter from './Components/Filter'\nimport Notification from './Components/Notification'\nimport personService from './Services/PersonService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState([null, 'error'])\n \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n      .catch(error => {\n        // this is the way to access the error message\n        console.log(error.response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(p => p.name === newName)) {\n      const person = persons.find(person => person.name === newName)\n      const newPerson = { ...person, number: newNumber }\n      if (window.confirm(`${newName} is already added to phonebook. Replace the old number with a new one?`)) {\n        personService.update(person.id, newPerson)\n        .then( response => {\n          setPersons(persons.map(p => p.id !== person.id ? p : response))\n          setMessage([`Number for ${response.name} was updated to ${response.number}`, 'message'])\n          setTimeout(() => {\n            setMessage([null, 'message'])\n          }, 3000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage([`${person.name} was already deleted from server`, 'error'])\n          setTimeout(() => {\n            setMessage([null, 'error'])\n          }, 3000)\n        })\n      }\n    } else {\n      personService.create(personObject)\n      .then(response => {\n        setPersons(persons.concat(response))\n        setMessage([`${response.name} was added to phonebook`, 'message'])\n        setTimeout(() => {\n          setMessage([null, 'message'])\n        }, 3000)\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setMessage([`${error.response.data.error}`, 'error'])\n        setTimeout(() => {\n          setMessage([null, 'error'])\n        }, 3000)\n      }) \n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDelete = ( id, name ) => {\n    if (window.confirm(`Delete ${name}?`)) {\n        personService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage([`Deletion successful`, 'message'])\n          setTimeout(() => {\n            setMessage([null, 'message'])\n          }, 3000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage([`${name} was already deleted from server`, 'error'])\n          setTimeout(() => {\n            setMessage([null, 'error'])\n          }, 3000)\n        })\n      }\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h3>Add a new name</h3>\n      <PersonForm onSubmit={addPerson} nameValue={newName} numberValue={newNumber} nameChange={handleNameChange} numberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons data={persons} filter={filter} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}